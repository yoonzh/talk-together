// AIDEV-NOTE: AI ì„œë¹„ìŠ¤ìš© í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê´€ë¦¬ íŒŒì¼
// OpenAIì™€ Gemini ì„œë¹„ìŠ¤ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

/**
 * ê³µí†µ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ - ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•œ ê¸°ë³¸ í…œí”Œë¦¿
 */
const COMMON_PROMPT_TEMPLATE = (noun: string): string => `ë‹¹ì‹ ì€ ë§ì„ ëª»í•˜ëŠ” ìžíìž¥ì• ì¸(4-7ì„¸ ì§€ëŠ¥ ìˆ˜ì¤€)ì„ ìœ„í•œ ì˜ì‚¬ì†Œí†µ ë³´ì¡° ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.
ì‚¬ìš©ìž ìž…ë ¥ì–´ "${noun}"ì— ëŒ€í•´ ìžì—°ìŠ¤ëŸ½ê³  ì‹¤ìš©ì ì¸ ë¬¸ìž¥ í›„ë³´ 5ê°œì—ì„œ 20ê°œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

ì¤‘ìš”í•œ ìˆœì„œ ìš”êµ¬ì‚¬í•­:
1. ìƒì„±ëœ ë¬¸ìž¥ì˜ 20%ëŠ” ìš”ì²­í˜•ì´ì–´ì•¼í•˜ê³  ì œì¼ ë¨¼ì € ë‚˜íƒ€ë‚˜ì•¼í•©ë‹ˆë‹¤.(ê°€ê³ ì‹¶ì–´ìš”, í•˜ê³ ì‹¶ì–´ìš”, ì£¼ì„¸ìš”, ë„ì™€ì£¼ì„¸ìš” ë“±)
2. ê·¸ ë‹¤ìŒ ìˆœì„œëŠ” ì‚¬ìš©ìž ìž…ë ¥ì–´ì™€ ê´€ë ¨ëœ ê°ì • í‘œí˜„ (ì¢‹ì•„ìš”, ì‹«ì–´ìš” ë“±). ë‹¨, ì‚¬ìš©ìž ìž…ë ¥ì–´ì— ëŒ€í•œ ê°ì • í‘œí˜„ì´ ì–´ìƒ‰í•˜ë‹¤ë©´ ìƒëžµ
3. ìƒì„±ëœ ë¬¸ìž¥ì´ ê°ì •ì„ í‘œí˜„í•˜ëŠ” ë¬¸ìž¥ì´ë©´ ë°˜ëŒ€ ê°ì •ì— ëŒ€í•œ ë¬¸ìž¥ë„ ìƒì„±
4. ë‚˜ë¨¸ì§€ ë¬¸ìž¥ì€ ìƒíƒœ, íŠ¹ì„± ë“±ì„ í‘œí˜„í•˜ëŠ” ë¬¸ìž¥
5. ë¬¸ìž¥ì´ ìžì—°ìŠ¤ëŸ½ê³  ì‰¬ìš´ë¬¸ìž¥ì´ ì•„ë‹ˆë¼ë©´ 20ê°œê¹Œì§€ ìƒì„±í•  í•„ìš” ì—†ìŒ
 
ì¼ë°˜ ìš”êµ¬ì‚¬í•­:
1. ìžíìž¥ì• ì¸ì´ ì¼ìƒì—ì„œ ìžì£¼ ì‚¬ìš©í•  ë§Œí•œ í‘œí˜„
2. ê°„ë‹¨í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ë¬¸ìž¥
3. ê° ì„œìˆ ì–´ë§ˆë‹¤ ì ì ˆí•œ ì´ëª¨ì§€ 1ê°œ
4. ì‚¬ìš©ìž ìž…ë ¥ì–´ì˜ ì˜ë¯¸ì™€ ë¬¸ë§¥ì— ì •í™•ížˆ ë§žëŠ” ì„œìˆ ì–´ë¥¼ ìƒì„±
5. ì‚¬ìš©ìž ìž…ë ¥ì–´ì™€ ê´€ë ¨ëœ êµ¬ì²´ì ì¸ í–‰ë™, ìƒíƒœ, ê°ì •ì„ í‘œí˜„
6. categoryê°€ ë‹¬ë¼ë„ ë™ì¼í•œ ë¬¸ìž¥ ìƒì„± ê¸ˆì§€`

/**
 * JSON ì¶œë ¥ í˜•ì‹ ì˜ˆì‹œ
 */
const JSON_OUTPUT_FORMAT = `
ì¶œë ¥ í˜•ì‹ (JSON):
textëŠ” ì™„ì „í•œ ë¬¸ìž¥ìœ¼ë¡œ ìƒì„±í•´ì£¼ì„¸ìš”.
{
  "predicates": [
    {"text": "ìžë™ì°¨ë¥¼ íƒ€ê³  ê°€ìš”", "emoji": "ðŸš—", "category": "ì´ë™"},
    {"text": "ìžë™ì°¨ê°€ ë¹¨ë¼ìš”", "emoji": "ðŸ’¨", "category": "íŠ¹ì„±"},
    {"text": "ìžë™ì°¨ë¥¼ ìš´ì „í•´ìš”", "emoji": "ðŸš™", "category": "í–‰ë™"},
    {"text": "ìžë™ì°¨ê°€ ë©‹ì ¸ìš”", "emoji": "âœ¨", "category": "ê°ì •"},
    {"text": "ìžë™ì°¨ë¥¼ ì”»ì–´ìš”", "emoji": "ðŸ§¼", "category": "ê´€ë¦¬"},
    {"text": "ìžë™ì°¨ê°€ í¬ë„¤ìš”", "emoji": "ðŸ“", "category": "íŠ¹ì„±"}
  ]
}`

/**
 * ìžíìž¥ì• ì¸ ì˜ì‚¬ì†Œí†µ ë³´ì¡°ë¥¼ ìœ„í•œ ì„œìˆ ì–´ ìƒì„± í”„ë¡¬í”„íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
 * 
 * @param noun - ì‚¬ìš©ìžê°€ ìž…ë ¥í•œ ëª…ì‚¬
 * @returns ì™„ì„±ëœ í”„ë¡¬í”„íŠ¸ ë¬¸ìžì—´
 */
export const createPredicatePrompt = (noun: string): string => {
  return `
${COMMON_PROMPT_TEMPLATE(noun)}

${JSON_OUTPUT_FORMAT}

ì‚¬ìš©ìž ìž…ë ¥ì–´: "${noun}"
`
}

/**
 * ë„ì›€ë§ì— í‘œì‹œí•  AI í”„ë¡¬í”„íŠ¸ (JSON ì¶œë ¥ í˜•ì‹ ì œì™¸)
 * @param noun - ì‚¬ìš©ìžê°€ ìž…ë ¥í•œ ëª…ì‚¬ (ì˜ˆì‹œìš©)
 * @returns ì‚¬ìš©ìžê°€ ë³¼ ìˆ˜ ìžˆëŠ” í”„ë¡¬í”„íŠ¸ ë‚´ìš©
 */
export const getDisplayPrompt = (noun: string = '{ì‚¬ìš©ìžìž…ë ¥ì–´}'): string => {
  return COMMON_PROMPT_TEMPLATE(noun)
}